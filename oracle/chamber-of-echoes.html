<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chamber of Echoes | LYRĪON Celestial Couture</title>
    <meta name="description" content="Enter the Chamber of Echoes at LYRĪON - a sacred space for profound cosmic reflection and guidance.">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="../assets/img/favicon.png">
    <style>
        :root {
            --color-ink: #151311;
            --color-gold: #C4A449;
            --font-serif: 'Playfair Display', serif;
        }

        .page-container {
            max-width: 900px;
            margin: 6rem auto;
            padding: 0 4rem;
        }
        .page-container h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            color: var(--color-ink);
            text-align: center;
        }
        .page-container h2 {
            font-size: 1.8rem;
            margin-bottom: 2rem;
            color: var(--color-gold);
            text-align: center;
            font-style: italic;
            font-weight: 400;
        }
        .page-container p {
            font-size: 1.2rem;
            line-height: 1.7;
            margin-bottom: 1.5rem;
            color: #5a5856;
        }

        .testimony-form {
            background: linear-gradient(135deg, rgba(244, 239, 232, 0.3) 0%, rgba(252, 250, 250, 0.3) 100%);
            border: 2px solid var(--color-gold);
            padding: 3rem;
            border-radius: 12px;
            margin-bottom: 4rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--color-ink);
            font-size: 1.1rem;
            font-family: var(--font-serif);
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid var(--color-gold);
            border-radius: 6px;
            font-family: var(--font-serif);
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.9);
        }
        
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .submit-btn {
            background: var(--color-gold);
            color: var(--color-ink);
            border: none;
            padding: 1rem 3rem;
            font-size: 1.1rem;
            font-family: var(--font-serif);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .submit-btn:hover {
            background: #A38435;
            transform: translateY(-2px);
        }
        
        .testimonies-section {
            margin-top: 4rem;
        }
        
        .testimonies-section h3 {
            font-size: 2rem;
            color: var(--color-ink);
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .testimony-card {
            background: rgba(244, 239, 232, 0.5);
            border-left: 4px solid var(--color-gold);
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 8px;
        }
        
        .testimony-message {
            font-size: 1.1rem;
            line-height: 1.7;
            color: var(--color-ink);
            margin-bottom: 1rem;
            font-style: italic;
        }
        
        .testimony-author {
            text-align: right;
            color: var(--color-gold);
            font-size: 1rem;
        }
        
        .success-message {
            background: rgba(196, 164, 73, 0.2);
            border: 2px solid var(--color-gold);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 2rem;
            display: none;
        }
        
        .success-message.show {
            display: block;
        }

        @media (max-width: 768px) {
            .page-container {
                padding: 0 2rem;
            }
            .page-container h1 {
                font-size: 2.5rem;
            }
            .testimony-form {
                padding: 2rem;
            }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo">
            <a href="../index.html">
                <img src="../assets/img/lyrion-logo.png" alt="LYRĪON Celestial Couture Logo" style="height: 40px; width: auto; display: block; margin: 0 auto;">
            </a>
        </div>
        <nav class="nav-main">
            <div class="nav-item">
                <a>The Houses</a>
                <div class="dropdown-menu">
                    <a href="../shop.html?category=woman">House of the Divine Feminine (Woman)</a>
                    <a href="../shop.html?category=man">House of the Solar Masculine (Man)</a>
                    <a href="../shop.html?category=moon-girls">House of Lunar Maidens (Moon Girls)</a>
                    <a href="../shop.html?category=star-boys">House of Starborn Sons (Star Boys)</a>
                </div>
            </div>
            <a href="../zodiac/index.html">The Zodiac Library</a>
            <div class="nav-item">
                <a>Ritual Market</a>
                <div class="dropdown-menu">
                    <a href="../shop.html?category=home-altar">Home & Altar</a>
                    <a href="../shop.html?category=sacred-textiles">Sacred Textiles</a>
                    <a href="../shop.html?category=digital-rituals">Digital Rituals</a>
                </div>
            </div>
            <a href="../oracle.html">The Oracle</a>
        </nav>
    </header>

    <section class="page-container">
        <h1>Chamber of Echoes</h1>
        <h2>Share what unfolded.</h2>
        
        <div class="success-message" id="success-message">
            <p style="color: var(--color-gold); font-size: 1.3rem; margin: 0;">✦ Your testimony has been received ✦</p>
            <p style="margin-top: 0.5rem; margin-bottom: 0;">Thank you for sharing your celestial journey.</p>
        </div>
        
        <div class="testimony-form">
            <form id="testimony-form">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" name="name" required placeholder="Your celestial name">
                </div>
                
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required placeholder="your@email.com">
                </div>
                
                <div class="form-group">
                    <label for="message">Your Testimony</label>
                    <textarea id="message" name="message" required placeholder="Share what the cosmos revealed to you..."></textarea>
                </div>
                
                <button type="submit" class="submit-btn">Submit Testimony</button>
            </form>
        </div>
        
        <div class="testimonies-section">
            <h3>Recent Echoes</h3>
            <div id="testimonies-container">
                <!-- Testimonies will be rendered here -->
            </div>
        </div>
    </section>
    
    <script>
        // Local storage for testimonies (mock store)
        const STORAGE_KEY = 'lyrion_testimonies';
        
        // Initialize with some sample testimonies if empty
        function initializeTestimonies() {
            const stored = localStorage.getItem(STORAGE_KEY);
            if (!stored) {
                const sampleTestimonies = [
                    {
                        name: 'Luna S.',
                        email: 'luna@example.com',
                        message: 'The Premium Oracle reading was profoundly accurate. It illuminated aspects of my journey I had been struggling to understand. The cosmic wisdom shared resonated deeply with my soul.',
                        timestamp: Date.now() - 86400000 * 2
                    },
                    {
                        name: 'Marcus R.',
                        email: 'marcus@example.com',
                        message: 'I was skeptical at first, but the reading captured the essence of my current life phase with remarkable clarity. The poetic language made it feel like the stars themselves were speaking.',
                        timestamp: Date.now() - 86400000 * 5
                    },
                    {
                        name: 'Aria M.',
                        email: 'aria@example.com',
                        message: 'This reading came at exactly the right moment. The guidance about patience and reflection helped me navigate a difficult decision. Truly celestial timing.',
                        timestamp: Date.now() - 86400000 * 7
                    }
                ];
                localStorage.setItem(STORAGE_KEY, JSON.stringify(sampleTestimonies));
            }
        }
        
        function getTestimonies() {
            const stored = localStorage.getItem(STORAGE_KEY);
            return stored ? JSON.parse(stored) : [];
        }
        
        function saveTestimony(testimony) {
            const testimonies = getTestimonies();
            testimonies.unshift({
                ...testimony,
                timestamp: Date.now()
            });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(testimonies));
        }
        
        function renderTestimonies() {
            const testimonies = getTestimonies();
            const container = document.getElementById('testimonies-container');
            
            // Show only last 5 testimonies
            const recentTestimonies = testimonies.slice(0, 5);
            
            if (recentTestimonies.length === 0) {
                container.innerHTML = '<p style="text-align: center; font-style: italic; color: #5a5856;">No testimonies yet. Be the first to share your celestial journey.</p>';
                return;
            }
            
            // Helper function to escape HTML and prevent XSS
            function escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }
            
            container.innerHTML = recentTestimonies.map(t => `
                <div class="testimony-card">
                    <div class="testimony-message">"${escapeHtml(t.message)}"</div>
                    <div class="testimony-author">— ${escapeHtml(t.name)}</div>
                </div>
            `).join('');
        }
        
        // Handle form submission
        document.getElementById('testimony-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                message: document.getElementById('message').value
            };
            
            // Save testimony
            saveTestimony(formData);
            
            // Show success message
            document.getElementById('success-message').classList.add('show');
            
            // Reset form
            this.reset();
            
            // Re-render testimonies
            renderTestimonies();
            
            // Hide success message after 5 seconds
            setTimeout(() => {
                document.getElementById('success-message').classList.remove('show');
            }, 5000);
            
            // Scroll to testimonies
            document.querySelector('.testimonies-section').scrollIntoView({ behavior: 'smooth' });
        });
        
        // Initialize and render on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeTestimonies();
            renderTestimonies();
        });
    </script>

    <footer>
        <div class="nav-footer">
            <a href="../shop.html">Collections</a>
            <a href="../oracle.html">Oracle</a>
            <a href="../contact.html">Contact</a>
            <a href="../blog.html">Blog</a>
        </div>
        <div class="copyright">
            &copy; 2025 LYRĪON Celestial Couture. Live with Ritual and Intention.
        </div>
    </footer>
    
    <script src="../js/lyrion.js"></script>
    
</body>
</html>