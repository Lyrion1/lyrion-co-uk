name = "lyrion-order-broker"
main = "worker.js"
compatibility_date = "2025-11-01"

routes = [
  # Point this to your Cloudflare zone + subdomain
  { pattern = "api.lyrion.co.uk/*", zone_name = "lyrion.co.uk" }
]

[vars]
BASE_URL = "https://lyrion.co.uk"
ALLOWED_ORIGINS = "https://lyrion.co.uk,https://*.netlify.app"
NETLIFY_FUNCTION_BASE = "https://lyrion.co.uk/.netlify/functions"
ROUTING_JSON_URL = "https://lyrion.co.uk/data/routing.json"

# Secrets (set via CLI, not stored here):
# - STRIPE_SECRET_KEY
# - STRIPE_WEBHOOK_SECRET
# - INTERNAL_SHARED_SECRET
# - PRINTFUL_API_KEY
# - GELATO_API_KEY
